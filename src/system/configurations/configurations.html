<template>
    <section class="">
        <span>${heading}</span>
        <form role="form">
            <div class="div-border">
                <table class="width100">
                    <tr class="mini-border width100">
                        <td class="margin5">
                            <div>
                                <label>Factory router configuration</label>
                                <div class="mini-border">
                                    <i class="fa fa-warning color-red"></i>
                                    <small>Warning ! This will reset all paswords !</small>
                                </div>
                            </div>
                        </td>
                        <td class="fright margin5">
                            <div>
                                <button class="btn btn-success" click.delegate="restore('factory')">RESTORE</button>
                            </div>
                        </td>
                    </tr>
	                <tr class="mini-border width100">
                        <td class="margin5">
                            <div>
                                <label>Default router configuration</label>
                            </div>
                        </td>
                        <td class="fright margin5">
                            <div>
                                <button class="btn btn-success" click.delegate="restore('default')">RESTORE</button>
                            </div>
                        </td>
                    </tr>
                    <tr repeat.for="config of configs" class="mini-border width100">
                        <td class="margin5">
                            <div>
                                <a name="${config}" click.delegate="download($event)">${config}</a>
                            </div>
                        </td>
                        <td class="fright margin5">
                            <div>
                                <button class="btn btn-default" name="${config}" click.delegate="download($event)">DOWNLOAD</button>
                                <button class="btn btn-success" name="${config}" click.delegate="restore($event)">RESTORE</button>
                                <button class="btn btn-danger" name="${config}" click.delegate="remove($event)">REMOVE</button>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="div-border">
                <div class="form-group">
                    <label for="fileName">Enter file name for current configuration:</label>
                    <input type="text" value.bind="fileName" class="form-control" id="fileName" />
                </div>
                <div class="halign">
                    <button class="btn btn-success" disabled.bind="!fileNameOk" click.delegate="saveCurrent()">SAVE CURRENT</button>
                </div>
            </div>
            <div class="div-border">
                <div>
                    <label for="upload">Select Configuration File for Upload:</label>
                    <input type="file" value.bind="upload" class="form-control" id="upload" accept=".cgz" />
                    <small><ul><li>"factory" and "default" names are not allowed</li></ul></small>
                </div><br/>
                <div class="halign">
                    <button class="btn btn-success" disabled.bind="!upload || upload.toLowerCase()==='default' || upload.toLowerCase()==='factory'" click.delegate="loadSet()">UPLOAD & SET</button>
                    <button class="btn btn-primary" disabled.bind="!upload || upload.toLowerCase()==='default' || upload.toLowerCase()==='factory'" click.delegate="loadArchive()">UPLOAD & SET & SAVE</button>
                </div>
            </div>
        </form>
    </section>
</template>